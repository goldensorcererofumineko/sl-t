<%= form_with model: sleep_m, local: true do |f| %>
  <%= render 'layouts/error_messages', model: f.object %>

  <div class="field">
    <%= f.label :set_time, "睡眠開始時間" %><br />
    <%= f.datetime_field :set_time, class: "form__text", id: "sleep_m_set_time" %>
  </div>

  <div class="field">
    <%= f.label :end_time, "睡眠終了時間" %><br />
    <%= f.datetime_field :end_time, class: "form__text", id: "sleep_m_end_time" %>
  </div>

  <div class="field">
    <%= f.label :quality, "睡眠の質" %><br />
    <%= f.select :quality, SleepM.qualities.keys, class: "form__select", id: "sleep_m_quality" %>
  </div>

  <div class="field">
    <%= f.label :memo, "メモ" %><br />
    <%= f.text_area :memo, class: "form__text", id: "sleep_m_memo" %>
  </div>
  
  <div class="actions">
    <%= f.submit "保存する", class: "form__btn"  %>
  </div>
<% end %>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const set_timeInput = document.getElementById("sleep_m_set_time");
    const end_timeInput = document.getElementById("sleep_m_end_time");

    set_timeInput.addEventListener("input", function() {
      const startTime = set_timeInput.value;
      end_timeInput.value = startTime; // 睡眠終了時間を設定
    });
  });
</script>